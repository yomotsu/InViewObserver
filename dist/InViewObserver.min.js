/*!
 * InViewObserver
 * https://github.com/yomotsu/InViewObserver
 * (c) 2017 @yomotsu
 * Released under the MIT License.
 */
!function(t,n){"object"==typeof exports&&"undefined"!=typeof module?module.exports=n():"function"==typeof define&&define.amd?define(n):t.InViewObserver=n()}(this,function(){"use strict";function t(t,n){var e=void 0,o=void 0;return function(){var r=Date.now();e&&r<e+n?(clearTimeout(o),o=setTimeout(function(){e=r,t()},n)):(e=r,t())}}function n(){r=window.innerWidth||document.documentElement.clientWidth,i=window.innerHeight||document.documentElement.clientHeight}function e(t){var n=t.getBoundingClientRect();return{partIn:0<-n.top&&-n.top<n.height||n.bottom-n.height<i&&i<n.bottom,wholeIn:n.top>=0&&n.bottom<=i}}function o(t,n){if(!(t instanceof n))throw new TypeError("Cannot call a class as a function")}var r=0,i=0;n(),window.addEventListener("resize",t(n,250));var a=[],c=function(){for(var t=0,n=a.length;t<n;t++){for(var o=a[t],r=[],i=0,c=o.length;i<c;i++){var d=o[i],s=d.state,u=e(d.el),f=u.wholeIn?"WHOLE_IN":u.partIn?"PART_IN":"OUT",h=s!==f;h&&"WHOLE_IN"===f?(d.state=f,d.onEnterEnd(),d.once&&r.push(i)):h&&"OUT"===s&&"PART_IN"===f?(d.state=f,d.onEnterStart()):h&&"PART_IN"===s&&"OUT"===f?(d.state=f,d.onLeaveEnd()):!h||u.wholeIn||(d.state=f,d.onLeaveStart())}for(var l=r.length;l--;)o.splice(l,1)}};return window.addEventListener("scroll",t(c,250)),window.addEventListener("resize",t(c,250)),function(){function t(){o(this,t),this.watchTargets=[],a.push(this.watchTargets)}return t.prototype.add=function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},n=e(t.el);if(n.partIn&&t.onEnterStart(),!n.wholeIn||(t.onEnterEnd(),!t.once)){var o=n.wholeIn?"WHOLE_IN":n.partIn?"PART_IN":"OUT";this.watchTargets.push({el:t.el,onEnterStart:t.onEnterStart||function(){},onEnterEnd:t.onEnterEnd||function(){},onLeaveStart:t.onLeaveStart||function(){},onLeaveEnd:t.onLeaveEnd||function(){},once:t.once,state:o})}},t.prototype.reset=function(){this.watchTargets.length=0},t}()});
